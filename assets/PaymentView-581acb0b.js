import{P as u}from"./ProgressbarComponent-d49a5a35.js";import{_ as p,c as n,a as s,b as m,F as b,k as g,g as P,t as o,n as y,y as f,r as I,o as c}from"./index-567739fb.js";const{VITE_APP_URL:i,VITE_APP_PATH:_}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"drmeme",VITE_APP_SPOTIFY_CLIENT_ID:"6ae98659652a4d86a9c6ca300f595a21",VITE_APP_SPOTIFY_CLIENT_SECRET:"08d3edfa0ca14a7382d7b286ac6b13c3",VITE_CLOUD_NAME:"dabraxbag",VITE_UPLOAD_PRESET:"ml_default",BASE_URL:"/drmeme/",MODE:"production",DEV:!1,PROD:!0},E={data(){return{order:{user:{email:"",name:"",tel:"",address:""}},orderId:""}},components:{ProgressbarComponent:u},computed:{},methods:{getOrder(){const r=this.$route.params.orderId;this.$http.get(`${i}/api/${_}/order/${r}`).then(d=>{const{order:l}=d.data;console.log("order",l),this.order=l,console.log("this.order",this.order)}).catch(d=>{alert(d.response.data.message)})},payOrder(){this.orderId=this.$route.params.orderId,console.log("this.orderId",this.orderId),this.$http.post(`${i}/api/${_}/pay/${this.orderId}`).then(r=>{console.log("pay",r),this.getOrder(),this.$router.push(`/checkout/${this.orderId}`)}).catch(r=>{alert(r.response.data.message)})}},mounted(){this.getOrder()}},T={class:"container"},v={class:"row justify-content-center py-10"},V={class:"col-sm-10 col-lg-8"},O={class:"row"},w={class:"col-md-7"},A={class:"py-2 py-md-4"},C=s("h2",{class:"fs-5 fw-bold mb-2"},"訂購商品",-1),x={class:"table-wrapper"},L={class:"table fs-7"},k=["src","alt"],D={class:"col-6"},N={class:"col-3 text-end"},S={class:"col-md-5"},$={class:"p-2 p-md-4 border rounded-3 bg-secondary-100"},R=s("h2",{class:"fs-5 fw-bold mb-2"},"訂單資訊",-1),U={class:"table fs-7 mb-0"},B=s("th",{width:"100"},"Email",-1),F=s("th",null,"姓名",-1),M=s("th",null,"收件人電話",-1),j=s("th",null,"收件人地址",-1),H=s("th",null,"付款狀態",-1),Y={class:"col-md-10 d-flex justify-content-end mt-6"};function q(r,d,l,z,t,a){const h=I("ProgressbarComponent");return c(),n("div",T,[s("div",v,[m(h,{currentStatus:3}),s("div",V,[s("div",O,[s("div",w,[s("div",A,[C,s("div",x,[s("table",L,[s("tbody",null,[t.order.products?(c(!0),n(b,{key:0},g(t.order.products,e=>(c(),n("tr",{class:"align-middle",key:e.id},[s("td",null,[s("img",{class:"cart-image",src:e.product.imageUrl,alt:e.product.title},null,8,k)]),s("td",D,o(e.product.title)+" x"+o(e.qty),1),s("td",N," NT$ "+o(e.product.price),1)]))),128)):P("",!0)])])])])]),s("div",S,[s("div",$,[R,s("table",U,[s("tbody",null,[s("tr",null,[B,s("td",null,o(t.order.user.email),1)]),s("tr",null,[F,s("td",null,o(t.order.user.name),1)]),s("tr",null,[M,s("td",null,o(t.order.user.tel),1)]),s("tr",null,[j,s("td",null,o(t.order.user.address),1)]),s("tr",null,[H,s("td",{class:y(t.order.is_paid?"success":"warning")},o(t.order.is_paid?"已付款":"未付款"),3)])])])])])])]),s("div",Y,[s("button",{class:"btn btn-primary-500 ms-2 text-light fw-bold",onClick:d[0]||(d[0]=f((...e)=>a.payOrder&&a.payOrder(...e),["prevent"]))}," 確認付款 ")])])])}const K=p(E,[["render",q]]);export{K as default};
