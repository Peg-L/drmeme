import{j as h,m as k,_ as C,o as n,c as a,a as t,h as w,x as P,y as m,n as r,F as c,k as v,t as l,r as u,b as _,w as L,g as $}from"./index-c34ecdd2.js";import{u as g}from"./productsStore-96c9619e.js";import{u as N}from"./cartStore-1900c3c4.js";import{B as S}from"./BannerComponent-add33b51.js";const B={data(){return{hasMarginTop:!1}},methods:{...h(g,["changeCategory"]),handleScroll(){this.hasMarginTop=window.scrollY>384}},computed:{...k(g,["categories","currentCategory"])},mounted(){window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)}},T={class:"col d-md-none sticky-top"},M=t("option",{value:"",selected:""},"全部",-1),V=t("option",{value:"服飾"},"服飾",-1),E=t("option",{value:"配件飾品"},"配件飾品",-1),F=t("option",{value:"其他"},"其他",-1),D=[M,V,E,F],U={class:"d-none d-md-block col-3 sticky-top overflow-y-auto vh-100"},j={class:"h-100"},A=["onClick"];function R(o,i,b,f,d,y){return n(),a(c,null,[t("div",T,[w(t("select",{class:"form-select border border-primary-500 mb-3","aria-label":"Default select","onUpdate:modelValue":i[0]||(i[0]=s=>o.currentCategory=s),onChange:i[1]||(i[1]=m(s=>o.getProducts(o.currentCategory),["prevent"]))},D,544),[[P,o.currentCategory]])]),t("div",U,[t("div",j,[t("ul",{class:r(["list-group",{"mt-20":d.hasMarginTop}])},[(n(!0),a(c,null,v(o.categories,s=>(n(),a("li",{type:"button",key:s,onClick:m(e=>o.changeCategory(s),["prevent"]),class:r(["list-group-item list-group-item-action fw-bold products-list-sidebar rounded-1",{active:s===o.currentCategory}]),"aria-current":"true"},l(s),11,A))),128))],2)])])],64)}const z=C(B,[["render",R]]);const Y={data(){return{}},computed:{...k(g,["products","pageNum","pagination","followList"])},methods:{...h(g,["getProducts","toggleFollowProduct"]),...h(N,["addToCart"])},mounted(){this.getProducts()}},q={class:"col-md-9"},G={class:"row row-cols-1 row-cols-sm-2 row-cols-lg-3 gy-6"},H={class:"position-relative"},I=["onClick"],J=["src","alt"],K={class:"card-body px-2"},O={class:"card-title text-dark fw-bold"},Q={class:"fs-5"},W={key:0,class:"text-secondary-500 me-2"},X={class:"p-1"},Z=["onClick"],x=t("i",{class:"fa-solid fa-cart-shopping"},null,-1),tt=t("span",{class:"ms-2"},"加入購物車",-1),ot=[x,tt],et={key:0,class:"row"},st={"aria-label":"Page navigation"},nt={class:"pagination justify-content-center pt-10"},at={class:"page-item"},it=t("span",{"aria-hidden":"true"},"«",-1),rt=[it],lt=["onClick"],ct=t("span",{"aria-hidden":"true"},"»",-1),dt=[ct];function pt(o,i,b,f,d,y){const s=u("RouterLink");return n(),a("div",q,[t("div",G,[(n(!0),a(c,null,v(o.products,e=>(n(),a("div",{class:"col",key:e.id},[_(s,{class:"card h-100 hover-dashed",to:`/products/${e.id}`},{default:L(()=>[t("div",H,[t("button",{onClick:m(p=>o.toggleFollowProduct(e.id),["prevent"]),class:"btn border-0 text-primary-500 position-absolute mt-2 top-0 end-0"},[t("i",{class:r([o.followList.includes(e.id)?"fa-solid":"fa-regular","fa-heart fa-2xl"])},null,2)],8,I),t("img",{src:e.imageUrl,class:"card-img-top aspect-ratio-item",alt:e.title},null,8,J)]),t("div",K,[t("h5",O,l(e.title),1),t("p",Q,[e.origin_price!==e.price?(n(),a("del",W,"NT$ "+l(e.origin_price),1)):$("",!0),t("span",null,"NT$ "+l(e.price),1)])]),t("div",X,[t("button",{type:"button",class:"btn btn-outline-primary-500 w-100 button-hover py-3 fs-5 fw-bold",onClick:m(p=>o.addToCart(e.id),["prevent"])},ot,8,Z)])]),_:2},1032,["to"])]))),128))]),o.pagination.total_pages>1?(n(),a("div",et,[t("nav",st,[t("ul",nt,[t("li",at,[t("button",{type:"button",class:r(["page-link",{disabled:!o.pagination.has_pre}]),"aria-label":"Previous",onClick:i[0]||(i[0]=e=>o.getProducts(o.pagination.current_page-1))},rt,2)]),(n(!0),a(c,null,v(o.pagination.total_pages,e=>(n(),a("li",{key:e,class:r(["page-item",{active:e==o.pagination.current_page}])},[t("button",{type:"button",class:"page-link",onClick:p=>o.getProducts(e)},l(e),9,lt)],2))),128)),t("li",null,[t("button",{type:"button",class:r(["page-link",{disabled:!o.pagination.has_next}]),"aria-label":"Next",onClick:i[1]||(i[1]=e=>o.getProducts(o.pagination.current_page+1))},dt,2)])])])])):$("",!0)])}const ut=C(Y,[["render",pt]]),_t={components:{ProductslistComponent:ut,ProductsCategoryComponent:z,BannerComponent:S},data(){return{imageName:"products-list-banner-3.png"}},methods:{}},mt={class:"container py-10 py-md-20",id:"products-block"},gt={class:"row"};function ht(o,i,b,f,d,y){const s=u("BannerComponent"),e=u("ProductsCategoryComponent"),p=u("ProductslistComponent");return n(),a(c,null,[_(s,{title:"限量周邊",subtitle:"Limited Edition Merch","image-name":d.imageName,"image-alt":"Anya wants this"},null,8,["image-name"]),t("div",mt,[t("div",gt,[_(e),_(p)])])],64)}const yt=C(_t,[["render",ht]]);export{yt as default};
