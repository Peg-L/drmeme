import{P as u}from"./ProgressbarComponent-ed69d7b8.js";import{_ as p,c as l,a as s,b as m,F as g,k as b,g as y,t as o,n as P,y as f,r as I,o as c}from"./index-c34ecdd2.js";const{VITE_APP_URL:i,VITE_APP_PATH:_}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"drmeme",VITE_APP_SPOTIFY_CLIENT_ID:"6ae98659652a4d86a9c6ca300f595a21",VITE_APP_SPOTIFY_CLIENT_SECRET:"08d3edfa0ca14a7382d7b286ac6b13c3",BASE_URL:"/drmeme/",MODE:"production",DEV:!1,PROD:!0},v={data(){return{order:{user:{email:"",name:"",tel:"",address:""}},orderId:""}},components:{ProgressbarComponent:u},computed:{},methods:{getOrder(){const r=this.$route.params.orderId;this.$http.get(`${i}/api/${_}/order/${r}`).then(d=>{const{order:n}=d.data;console.log("order",n),this.order=n,console.log("this.order",this.order)}).catch(d=>{alert(d.response.data.message)})},payOrder(){this.orderId=this.$route.params.orderId,console.log("this.orderId",this.orderId),this.$http.post(`${i}/api/${_}/pay/${this.orderId}`).then(r=>{console.log("pay",r),this.getOrder(),this.$router.push(`/checkout/${this.orderId}`)}).catch(r=>{alert(r.response.data.message)})}},mounted(){this.getOrder()}},E={class:"container"},T={class:"row justify-content-center py-10"},V={class:"col-sm-10 col-lg-8"},w={class:"row"},C={class:"col-md-7"},O={class:"py-2 py-md-4"},x=s("h2",{class:"fs-5 fw-bold mb-2"},"訂購商品",-1),A={class:"table-wrapper"},k={class:"table fs-7"},$=["src","alt"],L={class:"col-6"},N={class:"col-3 text-end"},S={class:"col-md-5"},D={class:"p-2 p-md-4 border rounded-3 bg-secondary-100"},R=s("h2",{class:"fs-5 fw-bold mb-2"},"訂單資訊",-1),B={class:"table fs-7 mb-0"},F=s("th",{width:"100"},"Email",-1),U=s("th",null,"姓名",-1),j=s("th",null,"收件人電話",-1),H=s("th",null,"收件人地址",-1),M=s("th",null,"付款狀態",-1),Y={class:"col-md-10 d-flex justify-content-end mt-6"};function q(r,d,n,z,t,a){const h=I("ProgressbarComponent");return c(),l("div",E,[s("div",T,[m(h,{currentStatus:3}),s("div",V,[s("div",w,[s("div",C,[s("div",O,[x,s("div",A,[s("table",k,[s("tbody",null,[t.order.products?(c(!0),l(g,{key:0},b(t.order.products,e=>(c(),l("tr",{class:"align-middle",key:e.id},[s("td",null,[s("img",{class:"cart-image",src:e.product.imageUrl,alt:e.product.title},null,8,$)]),s("td",L,o(e.product.title)+" x"+o(e.qty),1),s("td",N," NT$ "+o(e.product.price),1)]))),128)):y("",!0)])])])])]),s("div",S,[s("div",D,[R,s("table",B,[s("tbody",null,[s("tr",null,[F,s("td",null,o(t.order.user.email),1)]),s("tr",null,[U,s("td",null,o(t.order.user.name),1)]),s("tr",null,[j,s("td",null,o(t.order.user.tel),1)]),s("tr",null,[H,s("td",null,o(t.order.user.address),1)]),s("tr",null,[M,s("td",{class:P(t.order.is_paid?"success":"warning")},o(t.order.is_paid?"已付款":"未付款"),3)])])])])])])]),s("div",Y,[s("button",{class:"btn btn-primary-500 ms-2 text-light fw-bold",onClick:d[0]||(d[0]=f((...e)=>a.payOrder&&a.payOrder(...e),["prevent"]))}," 確認付款 ")])])])}const K=p(v,[["render",q]]);export{K as default};
