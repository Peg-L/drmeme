import{m as _,f as w,_ as v,o as n,c as i,b as t,w as k,v as P,g as d,h as r,F as c,i as m,t as l,r as h,a as g,j as S,k as C,e as L}from"./index-2c2a8a23.js";import{u as p}from"./productsStore-d085a28c.js";import{u as N}from"./cartStore-756abf7d.js";const T={data(){return{hasMarginTop:!1}},methods:{..._(p,["changeCategory"]),handleScroll(){this.hasMarginTop=window.scrollY>384}},computed:{...w(p,["categories","currentCategory"])},mounted(){window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)}},V={class:"col d-md-none sticky-top"},M=t("option",{value:"",selected:""},"全部",-1),E=t("option",{value:"服飾"},"服飾",-1),F=t("option",{value:"配件飾品"},"配件飾品",-1),j=t("option",{value:"其他"},"其他",-1),B=[M,E,F,j],D={class:"d-none d-md-block col-3 sticky-top overflow-y-auto vh-100"},U={class:"h-100"},A=["onClick"];function z(e,a,f,y,u,b){return n(),i(c,null,[t("div",V,[k(t("select",{class:"form-select border border-primary-500 mb-3","aria-label":"Default select","onUpdate:modelValue":a[0]||(a[0]=o=>e.currentCategory=o),onChange:a[1]||(a[1]=d(o=>e.getProducts(e.currentCategory),["prevent"]))},B,544),[[P,e.currentCategory]])]),t("div",D,[t("div",U,[t("ul",{class:r(["list-group",{"mt-20":u.hasMarginTop}])},[(n(!0),i(c,null,m(e.categories,o=>(n(),i("li",{type:"button",key:o,onClick:d(s=>e.changeCategory(o),["prevent"]),class:r(["list-group-item list-group-item-action fw-bold products-list-sidebar rounded-1",{active:o===e.currentCategory}]),"aria-current":"true"},l(o),11,A))),128))],2)])])],64)}const Y=v(T,[["render",z]]);const q={data(){return{}},computed:{...w(p,["products","pageNum","pagination","followList"])},methods:{..._(p,["getProducts","toggleFollowProduct"]),..._(N,["addToCart"])},mounted(){this.getProducts()}},x={class:"col-md-9"},G={class:"row row-cols-1 row-cols-sm-2 row-cols-lg-3 gy-6"},H={class:"position-relative"},I=["onClick"],J=["src","alt"],K={class:"card-body px-2"},O={class:"card-title text-dark fw-bold"},Q={class:"fs-5"},R={key:0,class:"text-secondary-500 me-2"},W={class:"p-1"},X=["onClick"],Z=t("i",{class:"fa-solid fa-cart-shopping"},null,-1),tt=t("span",{class:"ms-2"},"加入購物車",-1),et=[Z,tt],st={key:0,class:"row"},ot={"aria-label":"Page navigation"},nt={class:"pagination justify-content-center pt-10"},it={class:"page-item"},at=t("span",{"aria-hidden":"true"},"«",-1),rt=[at],lt=["onClick"],ct=t("span",{"aria-hidden":"true"},"»",-1),dt=[ct];function pt(e,a,f,y,u,b){const o=h("router-link");return n(),i("div",x,[t("div",G,[(n(!0),i(c,null,m(e.products,s=>(n(),i("div",{class:"col",key:s.id},[g(o,{class:"card h-100 hover-dashed",to:`/product/${s.id}`},{default:S(()=>[t("div",H,[t("button",{onClick:d($=>e.toggleFollowProduct(s.id),["prevent"]),class:"btn border-0 text-primary-500 position-absolute mt-2 top-0 end-0"},[t("i",{class:r([e.followList.includes(s.id)?"fa-solid":"fa-regular","fa-heart fa-2xl"])},null,2)],8,I),t("img",{src:s.imageUrl,class:"card-img-top aspect-ratio-item",alt:s.title},null,8,J)]),t("div",K,[t("h5",O,l(s.title),1),t("p",Q,[s.origin_price!==s.price?(n(),i("del",R,"NT$ "+l(s.origin_price),1)):C("",!0),t("span",null,"NT$ "+l(s.price),1)])]),t("div",W,[t("button",{type:"button",class:"btn btn-outline-primary-500 w-100 button-hover py-3 fs-5 fw-bold",onClick:d($=>e.addToCart(s.id),["prevent"])},et,8,X)])]),_:2},1032,["to"])]))),128))]),e.pagination.total_pages>1?(n(),i("div",st,[t("nav",ot,[t("ul",nt,[t("li",it,[t("button",{type:"button",class:r(["page-link",{disabled:!e.pagination.has_pre}]),"aria-label":"Previous",onClick:a[0]||(a[0]=s=>e.getProducts(e.pagination.current_page-1))},rt,2)]),(n(!0),i(c,null,m(e.pagination.total_pages,s=>(n(),i("li",{key:s,class:r(["page-item",{active:s==e.pagination.current_page}])},[t("button",{type:"button",class:"page-link",onClick:$=>e.getProducts(s)},l(s),9,lt)],2))),128)),t("li",null,[t("button",{type:"button",class:r(["page-link",{disabled:!e.pagination.has_next}]),"aria-label":"Next",onClick:a[1]||(a[1]=s=>e.getProducts(e.pagination.current_page+1))},dt,2)])])])])):C("",!0)])}const ut=v(q,[["render",pt]]),_t="/drmeme/assets/products-list-banner-3-e191c0cd.png";const mt={components:{ProductslistComponent:ut,ProductsCategoryComponent:Y},methods:{}},ht=L('<div class="bg-secondary-100"><div class="container"><div class="d-flex flex-column flex-md-row justify-content-md-center align-items-center py-4 py-md-8"><div><h1 class="display-5 fw-bold text-center text-md-start">限量週邊</h1><p class="fs-3 ff-sans-en fw-light text-uppercase"> Limited Edition Merch </p></div><img class="darken ms-md-20 product-list-banner-img" src="'+_t+'" alt="Anya wants this"></div></div></div>',1),gt={class:"container py-10 py-md-20",id:"products-block"},vt={class:"row"};function ft(e,a,f,y,u,b){const o=h("ProductsCategoryComponent"),s=h("ProductslistComponent");return n(),i(c,null,[ht,t("div",gt,[t("div",vt,[g(o),g(s)])])],64)}const Ct=v(mt,[["render",ft]]);export{Ct as default};
