import{_ as P,d as u,c as o,b as t,F as r,f as _,s as m,t as l,w as h,z as b,o as d,j as v}from"./index-cff3c9f2.js";const{VITE_APP_URL:f,VITE_APP_PATH:y}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"drmeme",VITE_APP_SPOTIFY_CLIENT_ID:"6ae98659652a4d86a9c6ca300f595a21",VITE_APP_SPOTIFY_CLIENT_SECRET:"08d3edfa0ca14a7382d7b286ac6b13c3",BASE_URL:"/drmeme/",MODE:"production",DEV:!1,PROD:!0},T={data(){return{products:[],tempProduct:{}}},methods:{getProducts(){console.log("this.getProducts");const a=`${f}/v2/api/${y}/admin/products`,c=document.cookie.replace(/(?:(?:^|.*;\s*)drmemeToken\s*=\s*([^;]*).*$)|^.*$/,"$1");u.defaults.headers.common.Authorization=c,u.get(a).then(n=>{this.products=n.data.products,console.log("成功取得",this.products)}).catch(n=>{console.log(n)})},editProductDetail(a){this.tempProduct=a}},mounted(){this.getProducts()}},U={class:"py-3"},E=t("h2",null,"產品列表",-1),A={class:"table table-hover mt-4"},V=t("thead",null,[t("tr",null,[t("th",null,"產品名稱"),t("th",{width:"120"},"原價"),t("th",{width:"120"},"售價"),t("th",{width:"120"},"是否啟用"),t("th",{width:"120"},"編輯")])],-1),x=["onClick"],I=t("button",{type:"button",class:"btn btn-outline-danger fw-bold","data-bs-toggle":"modal","data-bs-target":"#deleteModal"}," 刪除 ",-1),k={class:"modal fade",id:"productModal",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true"},w={class:"modal-dialog modal-dialog-scrollable"},D={class:"modal-content"},L=t("div",{class:"modal-header"},[t("h1",{class:"modal-title fs-5",id:"productModalLabel"},"編輯產品"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),C={class:"modal-body"},M={class:"row"},R={class:"col-4"},S=t("label",{for:"imageUrl",class:"form-label"},"主要圖片",-1),B=["src","alt"],F={class:"mt-4"},N=t("h4",null,"多圖新增",-1),O={class:"mb-3"},z=t("label",{for:"imageUrl",class:"form-label"},"圖片網址",-1),H=["onUpdate:modelValue"],Y=["src"],j=t("div",{class:"col-8"},null,-1),q=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary-500","data-bs-dismiss":"modal"}," 取消 "),t("button",{type:"button",class:"btn btn-primary-500"},"確認")],-1);function G(a,c,n,J,e,p){return d(),o(r,null,[t("div",null,[t("div",U,[E,t("table",A,[V,t("tbody",null,[(d(!0),o(r,null,_(e.products,s=>(d(),o("tr",{key:s.id},[t("td",null,l(s.title),1),t("td",null,l(s.origin_price),1),t("td",null,l(s.price),1),t("td",null,[t("span",{class:v({"text-success":s.is_enabled})},l(s.is_enabled?"啟用":"未啟用"),3)]),t("td",null,[t("button",{type:"button",class:"btn btn-success text-light fw-bold","data-bs-toggle":"modal","data-bs-target":"#productModal",onClick:i=>p.editProductDetail(s)}," 編輯 ",8,x),I])]))),128))])]),t("p",null,[m(" 目前有 "),t("span",null,l(e.products?0:e.products.length),1),m(" 項產品 ")])])]),t("div",k,[t("div",w,[t("div",D,[L,t("div",C,[t("div",M,[t("div",R,[t("div",null,[S,h(t("input",{type:"url",class:"form-control mb-2",id:"imageUrl",placeholder:"請輸入主圖連結","aria-describedby":"productHelp","onUpdate:modelValue":c[0]||(c[0]=s=>e.tempProduct.imageUrl=s)},null,512),[[b,e.tempProduct.imageUrl]]),t("img",{src:e.tempProduct.imageUrl,alt:e.tempProduct.title},null,8,B)]),t("div",F,[N,(d(!0),o(r,null,_(e.tempProduct.imagesUrl,(s,i)=>(d(),o("div",{key:s},[t("div",O,[z,h(t("input",{id:"imageUrl",type:"text","onUpdate:modelValue":g=>e.tempProduct.imagesUrl[i]=g,class:"form-control",placeholder:"請輸入圖片連結"},null,8,H),[[b,e.tempProduct.imagesUrl[i]]])]),t("img",{class:"img-fluid",src:s},null,8,Y)]))),128))])]),j])]),q])])])],64)}const Q=P(T,[["render",G]]);export{Q as default};
