import{g as T}from"./getDate-a6a896d2.js";import{_ as w,j as A,m as v,c as l,a as e,t as a,d as r,F as d,k as _,g as u,u as x,w as m,b as g,r as E,o as i}from"./index-567739fb.js";import{u as p}from"./articleStore-99a77515.js";const{VITE_APP_URL:P,VITE_APP_PATH:y}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"drmeme",VITE_APP_SPOTIFY_CLIENT_ID:"6ae98659652a4d86a9c6ca300f595a21",VITE_APP_SPOTIFY_CLIENT_SECRET:"08d3edfa0ca14a7382d7b286ac6b13c3",VITE_CLOUD_NAME:"dabraxbag",VITE_UPLOAD_PRESET:"ml_default",BASE_URL:"/drmeme/",MODE:"production",DEV:!1,PROD:!0},V={data(){return{currentIndex:0,article:{}}},mixins:[T],methods:{...A(p,["getArticles"]),findIndex(){this.currentIndex=this.articles.findIndex(s=>s.id===this.article.id)},getArticle(){const{id:s}=this.$route.params;this.$http.get(`${P}/api/${y}/article/${s}`).then(o=>{this.article=o.data.article,this.findIndex()})}},computed:{...v(p,["articles","article"]),allTags(){const s=this.articles.reduce((h,t)=>h.concat(t.tag),[]),o=new Set(s);return Array.from(o)},fiveArticles(){return this.articles.slice(0,5)}},watch:{"$route.params":{immediate:!0,handler(){this.$route.params.id&&this.getArticle()}}},mounted(){this.getArticle(),this.getArticles()}},b={class:"container py-10 py-md-20"},k={class:"row"},L={class:"col-md-8"},D={class:"fs-3 fw-bold"},S={class:"mt-4"},R={class:"text-secondary-300"},C=e("i",{class:"fa-solid fa-user me-1"},null,-1),N={class:"text-secondary-300 ms-3"},O=e("i",{class:"fa-solid fa-calendar-days me-1"},null,-1),B=e("i",{class:"fa-solid fa-tag me-1"},null,-1),U={key:0},j=["src","srcset"],F=["innerHTML"],H=e("hr",null,null,-1),M={class:"row justify-content-between"},Y={class:"col-6"},q=e("i",{class:"fa-solid fa-arrow-left me-2"},null,-1),z=e("br",null,null,-1),G={key:0,class:"col-6"},J={class:"text-end"},K=e("br",null,null,-1),Q=e("i",{class:"fa-solid fa-arrow-right ms-2"},null,-1),W={class:"col-md-4"},X={class:"ps-lg-20 pt-lg-10"},Z=e("h2",{class:"fs-5 fw-bold mt-10 mt-md-0"},"標籤",-1),$={class:"mt-4"},ee=e("i",{class:"fa-solid fa-tag"},null,-1),te=e("h2",{class:"fs-5 fw-bold mt-md-10 mt-4"},"最新文章",-1);function se(s,o,I,h,t,f){const n=E("RouterLink");return i(),l("div",b,[e("div",k,[e("div",L,[e("h1",D,a(t.article.title),1),e("div",S,[e("span",R,[C,r(a(t.article.author),1)]),e("span",N,[O,r(a(s.getDate(t.article.create_at)),1)]),(i(!0),l(d,null,_(t.article.tag,c=>(i(),l("span",{class:"text-secondary-300 ms-3",key:c},[B,r(a(c),1)]))),128))]),t.article.image&&Object.keys(t.article.image).length>0?(i(),l("div",U,[e("img",{class:"mt-4 w-100 rounded-3",src:t.article.image["1000w"],alt:"首圖",srcset:`${t.article.image["300w"]} 300w, ${t.article.image["600w"]} 600w, ${t.article.image["1000w"]} 1000w`},null,8,j)])):u("",!0),e("div",{class:"mt-4 p-6",innerHTML:t.article.content},null,8,F),H,e("div",M,[e("div",Y,[s.articles[t.currentIndex-1]?(i(),x(n,{key:0,to:`/articles/${s.articles[t.currentIndex-1].id}`,class:"d-flex align-items-center"},{default:m(()=>[q,e("div",null,[r(" 上一篇："),z,r(" "+a(s.articles[t.currentIndex-1].title),1)])]),_:1},8,["to"])):u("",!0)]),s.articles[t.currentIndex+1]?(i(),l("div",G,[g(n,{to:`/articles/${s.articles[t.currentIndex+1].id}`,class:"d-flex align-items-center justify-content-end"},{default:m(()=>[e("div",J,[r(" 下一篇："),K,r(" "+a(s.articles[t.currentIndex+1].title),1)]),Q]),_:1},8,["to"])])):u("",!0)])]),e("div",W,[e("div",X,[Z,e("div",$,[(i(!0),l(d,null,_(f.allTags,c=>(i(),l("a",{class:"text-secondary-700 me-3",key:c},[ee,r(a(c),1)]))),128))]),te,(i(!0),l(d,null,_(f.fiveArticles,c=>(i(),l("div",{key:c.id,class:"mt-2"},[g(n,{to:`/articles/${c.id}`,class:"fw-bold"},{default:m(()=>[r(a(c.title),1)]),_:2},1032,["to"])]))),128))])])])])}const re=w(V,[["render",se]]);export{re as default};
